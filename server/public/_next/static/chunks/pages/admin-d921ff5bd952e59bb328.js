_N_E=(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[9],{Ji2X:function(e,t,a){"use strict";var r=a("wx14"),n=a("Ff2n"),i=a("rePB"),c=a("q1tI"),o=(a("17x9"),a("iuhU")),s=a("H2TA"),l=a("NqtD"),d=c.forwardRef((function(e,t){var a=e.classes,i=e.className,s=e.component,d=void 0===s?"div":s,p=e.disableGutters,u=void 0!==p&&p,b=e.fixed,h=void 0!==b&&b,m=e.maxWidth,f=void 0===m?"lg":m,j=Object(n.a)(e,["classes","className","component","disableGutters","fixed","maxWidth"]);return c.createElement(d,Object(r.a)({className:Object(o.a)(a.root,i,h&&a.fixed,u&&a.disableGutters,!1!==f&&a["maxWidth".concat(Object(l.a)(String(f)))]),ref:t},j))}));t.a=Object(s.a)((function(e){return{root:Object(i.a)({width:"100%",marginLeft:"auto",boxSizing:"border-box",marginRight:"auto",paddingLeft:e.spacing(2),paddingRight:e.spacing(2),display:"block"},e.breakpoints.up("sm"),{paddingLeft:e.spacing(3),paddingRight:e.spacing(3)}),disableGutters:{paddingLeft:0,paddingRight:0},fixed:Object.keys(e.breakpoints.values).reduce((function(t,a){var r=e.breakpoints.values[a];return 0!==r&&(t[e.breakpoints.up(a)]={maxWidth:r}),t}),{}),maxWidthXs:Object(i.a)({},e.breakpoints.up("xs"),{maxWidth:Math.max(e.breakpoints.values.xs,444)}),maxWidthSm:Object(i.a)({},e.breakpoints.up("sm"),{maxWidth:e.breakpoints.values.sm}),maxWidthMd:Object(i.a)({},e.breakpoints.up("md"),{maxWidth:e.breakpoints.values.md}),maxWidthLg:Object(i.a)({},e.breakpoints.up("lg"),{maxWidth:e.breakpoints.values.lg}),maxWidthXl:Object(i.a)({},e.breakpoints.up("xl"),{maxWidth:e.breakpoints.values.xl})}}),{name:"MuiContainer"})(d)},KGfn:function(e,t,a){(window.__NEXT_P=window.__NEXT_P||[]).push(["/admin",function(){return a("iooJ")}])},i2en:function(e,t,a){"use strict";var r=a("rePB"),n=a("nKUr"),i=a("iae6"),c=a("hlFM"),o=a("5Yp1"),s=a("2+Dk"),l=a("nOHt"),d=a("q1tI");function p(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function u(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?p(Object(a),!0).forEach((function(t){Object(r.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):p(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}t.a=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return function(a){var r=Object(s.a)(),p=r.user,b=r.error,h=Object(l.useRouter)();return Object(d.useEffect)((function(){t?!b&&(null===p||void 0===p?void 0:p.isAdmin)?h.push(h.asPath):h.replace("/"):!b&&p?h.push(h.asPath):h.replace("/")}),[p,t,b]),p?Object(n.jsx)(e,u({},a)):Object(n.jsx)(o.a,{flex:!0,children:Object(n.jsx)(c.a,{height:"100%",width:"100%",display:"flex",alignItems:"center",justifyContent:"center",children:Object(n.jsx)(i.a,{})})})}}},iae6:function(e,t,a){"use strict";var r=a("wx14"),n=a("Ff2n"),i=a("q1tI"),c=(a("17x9"),a("iuhU")),o=a("H2TA"),s=a("NqtD");function l(e){var t,a,r;return t=e,a=0,r=1,e=(Math.min(Math.max(a,t),r)-a)/(r-a),e=(e-=1)*e*e+1}var d=i.forwardRef((function(e,t){var a,o=e.classes,d=e.className,p=e.color,u=void 0===p?"primary":p,b=e.disableShrink,h=void 0!==b&&b,m=e.size,f=void 0===m?40:m,j=e.style,O=e.thickness,g=void 0===O?3.6:O,v=e.value,x=void 0===v?0:v,y=e.variant,k=void 0===y?"indeterminate":y,w=Object(n.a)(e,["classes","className","color","disableShrink","size","style","thickness","value","variant"]),N={},P={},D={};if("determinate"===k||"static"===k){var E=2*Math.PI*((44-g)/2);N.strokeDasharray=E.toFixed(3),D["aria-valuenow"]=Math.round(x),"static"===k?(N.strokeDashoffset="".concat(((100-x)/100*E).toFixed(3),"px"),P.transform="rotate(-90deg)"):(N.strokeDashoffset="".concat((a=(100-x)/100,a*a*E).toFixed(3),"px"),P.transform="rotate(".concat((270*l(x/70)).toFixed(3),"deg)"))}return i.createElement("div",Object(r.a)({className:Object(c.a)(o.root,d,"inherit"!==u&&o["color".concat(Object(s.a)(u))],{indeterminate:o.indeterminate,static:o.static}[k]),style:Object(r.a)({width:f,height:f},P,j),ref:t,role:"progressbar"},D,w),i.createElement("svg",{className:o.svg,viewBox:"".concat(22," ").concat(22," ").concat(44," ").concat(44)},i.createElement("circle",{className:Object(c.a)(o.circle,h&&o.circleDisableShrink,{indeterminate:o.circleIndeterminate,static:o.circleStatic}[k]),style:N,cx:44,cy:44,r:(44-g)/2,fill:"none",strokeWidth:g})))}));t.a=Object(o.a)((function(e){return{root:{display:"inline-block"},static:{transition:e.transitions.create("transform")},indeterminate:{animation:"$circular-rotate 1.4s linear infinite"},colorPrimary:{color:e.palette.primary.main},colorSecondary:{color:e.palette.secondary.main},svg:{display:"block"},circle:{stroke:"currentColor"},circleStatic:{transition:e.transitions.create("stroke-dashoffset")},circleIndeterminate:{animation:"$circular-dash 1.4s ease-in-out infinite",strokeDasharray:"80px, 200px",strokeDashoffset:"0px"},"@keyframes circular-rotate":{"0%":{transformOrigin:"50% 50%"},"100%":{transform:"rotate(360deg)"}},"@keyframes circular-dash":{"0%":{strokeDasharray:"1px, 200px",strokeDashoffset:"0px"},"50%":{strokeDasharray:"100px, 200px",strokeDashoffset:"-15px"},"100%":{strokeDasharray:"100px, 200px",strokeDashoffset:"-125px"}},circleDisableShrink:{animation:"none"}}}),{name:"MuiCircularProgress",flip:!1})(d)},iooJ:function(e,t,a){"use strict";a.r(t);var r=a("nKUr"),n=a("i2en"),i=a("R/WZ"),c=a("Ji2X"),o=a("ofer"),s=a("rePB"),l=a("KQm4"),d=a("o0o1"),p=a.n(d),u=a("HaE+"),b=a("kKAo"),h=a("lO0E"),m=a("wx14"),f=a("Ff2n"),j=a("q1tI"),O=(a("17x9"),a("iuhU")),g=a("H2TA"),v=j.forwardRef((function(e,t){var a=e.classes,r=e.className,n=e.component,i=void 0===n?"div":n,c=Object(f.a)(e,["classes","className","component"]);return j.createElement(i,Object(m.a)({ref:t,className:Object(O.a)(a.root,r)},c))})),x=Object(g.a)({root:{width:"100%",overflowX:"auto"}},{name:"MuiTableContainer"})(v);var y=j.createContext(),k=j.forwardRef((function(e,t){var a=e.classes,r=e.className,n=e.component,i=void 0===n?"table":n,c=e.padding,o=void 0===c?"default":c,s=e.size,l=void 0===s?"medium":s,d=e.stickyHeader,p=void 0!==d&&d,u=Object(f.a)(e,["classes","className","component","padding","size","stickyHeader"]),b=j.useMemo((function(){return{padding:o,size:l,stickyHeader:p}}),[o,l,p]);return j.createElement(y.Provider,{value:b},j.createElement(i,Object(m.a)({role:"table"===i?null:"table",ref:t,className:Object(O.a)(a.root,r,p&&a.stickyHeader)},u)))})),w=Object(g.a)((function(e){return{root:{display:"table",width:"100%",borderCollapse:"collapse",borderSpacing:0,"& caption":Object(m.a)({},e.typography.body2,{padding:e.spacing(2),color:e.palette.text.secondary,textAlign:"left",captionSide:"bottom"})},stickyHeader:{borderCollapse:"separate"}}}),{name:"MuiTable"})(k);var N=j.createContext(),P={variant:"head"},D=j.forwardRef((function(e,t){var a=e.classes,r=e.className,n=e.component,i=void 0===n?"thead":n,c=Object(f.a)(e,["classes","className","component"]);return j.createElement(N.Provider,{value:P},j.createElement(i,Object(m.a)({className:Object(O.a)(a.root,r),ref:t,role:"thead"===i?null:"rowgroup"},c)))})),E=Object(g.a)({root:{display:"table-header-group"}},{name:"MuiTableHead"})(D),T=a("ye/S"),R=j.forwardRef((function(e,t){var a=e.classes,r=e.className,n=e.component,i=void 0===n?"tr":n,c=e.hover,o=void 0!==c&&c,s=e.selected,l=void 0!==s&&s,d=Object(f.a)(e,["classes","className","component","hover","selected"]),p=j.useContext(N);return j.createElement(i,Object(m.a)({ref:t,className:Object(O.a)(a.root,r,p&&{head:a.head,footer:a.footer}[p.variant],o&&a.hover,l&&a.selected),role:"tr"===i?null:"row"},d))})),C=Object(g.a)((function(e){return{root:{color:"inherit",display:"table-row",verticalAlign:"middle",outline:0,"&$hover:hover":{backgroundColor:e.palette.action.hover},"&$selected, &$selected:hover":{backgroundColor:Object(T.c)(e.palette.secondary.main,e.palette.action.selectedOpacity)}},selected:{},hover:{},head:{},footer:{}}}),{name:"MuiTableRow"})(R),S=a("NqtD"),W=j.forwardRef((function(e,t){var a,r,n=e.align,i=void 0===n?"inherit":n,c=e.classes,o=e.className,s=e.component,l=e.padding,d=e.scope,p=e.size,u=e.sortDirection,b=e.variant,h=Object(f.a)(e,["align","classes","className","component","padding","scope","size","sortDirection","variant"]),g=j.useContext(y),v=j.useContext(N),x=v&&"head"===v.variant;s?(r=s,a=x?"columnheader":"cell"):r=x?"th":"td";var k=d;!k&&x&&(k="col");var w=l||(g&&g.padding?g.padding:"default"),P=p||(g&&g.size?g.size:"medium"),D=b||v&&v.variant,E=null;return u&&(E="asc"===u?"ascending":"descending"),j.createElement(r,Object(m.a)({ref:t,className:Object(O.a)(c.root,c[D],o,"inherit"!==i&&c["align".concat(Object(S.a)(i))],"default"!==w&&c["padding".concat(Object(S.a)(w))],"medium"!==P&&c["size".concat(Object(S.a)(P))],"head"===D&&g&&g.stickyHeader&&c.stickyHeader),"aria-sort":E,role:a,scope:k},h))})),M=Object(g.a)((function(e){return{root:Object(m.a)({},e.typography.body2,{display:"table-cell",verticalAlign:"inherit",borderBottom:"1px solid\n    ".concat("light"===e.palette.type?Object(T.e)(Object(T.c)(e.palette.divider,1),.88):Object(T.a)(Object(T.c)(e.palette.divider,1),.68)),textAlign:"left",padding:16}),head:{color:e.palette.text.primary,lineHeight:e.typography.pxToRem(24),fontWeight:e.typography.fontWeightMedium},body:{color:e.palette.text.primary},footer:{color:e.palette.text.secondary,lineHeight:e.typography.pxToRem(21),fontSize:e.typography.pxToRem(12)},sizeSmall:{padding:"6px 24px 6px 16px","&:last-child":{paddingRight:16},"&$paddingCheckbox":{width:24,padding:"0 12px 0 16px","&:last-child":{paddingLeft:12,paddingRight:16},"& > *":{padding:0}}},paddingCheckbox:{width:48,padding:"0 0 0 4px","&:last-child":{paddingLeft:0,paddingRight:4}},paddingNone:{padding:0,"&:last-child":{padding:0}},alignLeft:{textAlign:"left"},alignCenter:{textAlign:"center"},alignRight:{textAlign:"right",flexDirection:"row-reverse"},alignJustify:{textAlign:"justify"},stickyHeader:{position:"sticky",top:0,left:0,zIndex:2,backgroundColor:e.palette.background.default}}}),{name:"MuiTableCell"})(W),H={variant:"body"},_=j.forwardRef((function(e,t){var a=e.classes,r=e.className,n=e.component,i=void 0===n?"tbody":n,c=Object(f.a)(e,["classes","className","component"]);return j.createElement(N.Provider,{value:H},j.createElement(i,Object(m.a)({className:Object(O.a)(a.root,r),ref:t,role:"tbody"===i?null:"rowgroup"},c)))})),A=Object(g.a)({root:{display:"table-row-group"}},{name:"MuiTableBody"})(_),z=a("469l"),I=a("VmPI"),L=a("Jhtb"),B=a("VtrM"),F=a("rZK2");a("nOHt");function J(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function q(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?J(Object(a),!0).forEach((function(t){Object(s.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):J(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var G=Object(i.a)((function(e){return{table:{minWidth:650},paper:{marginBottom:"2rem"}}})),K=function(){var e=Object(u.a)(p.a.mark((function e(t){var a,r;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,L.a.get(t);case 3:return a=e.sent,r=a.data,e.abrupt("return",r);case 8:throw e.prev=8,e.t0=e.catch(0),e.t0.response.data;case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}();function X(e){var t=e.teachers,a=void 0!==t&&t,n=Object(F.b)().openNotification,i=G(),c=Object(B.a)("/api/users",K),s=c.data,d=(c.error,c.mutate);if(!s)return"Loading...";function m(){return(m=Object(u.a)(p.a.mark((function e(t){var a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return d(Object(l.a)(s.map((function(e){return e._id===t._id?q(q({},e),{},{isTeacher:!t.isTeacher}):e}))),!1),e.prev=1,e.next=4,L.a.put("/api/users/".concat(t._id),{isTeacher:!t.isTeacher});case 4:e.next=9;break;case 6:e.prev=6,e.t0=e.catch(1),console.log(e.t0);case 9:a=t.isTeacher?"removed from":"made a",n("".concat(t.displayName," has been ").concat(a," teacher"));case 11:case"end":return e.stop()}}),e,null,[[1,6]])})))).apply(this,arguments)}var f=s.filter((function(e){return e.isTeacher===a}));return Object(r.jsxs)(b.a,{className:i.paper,children:[Object(r.jsx)(h.a,{children:Object(r.jsx)(o.a,{variant:"h6",children:a?"Teachers":"Students"})}),Object(r.jsx)(x,{children:Object(r.jsxs)(w,{className:i.table,"aria-label":"simple table",children:[Object(r.jsx)(E,{children:Object(r.jsxs)(C,{children:[Object(r.jsx)(M,{children:"Avatar"}),Object(r.jsx)(M,{children:"ID"}),Object(r.jsx)(M,{children:"Google ID"}),Object(r.jsx)(M,{children:"Email"}),Object(r.jsx)(M,{children:"Teacher"})]})}),Object(r.jsx)(A,{children:f.map((function(e){return Object(r.jsxs)(C,{children:[Object(r.jsx)(M,{children:Object(r.jsx)(z.a,{src:e.image})}),Object(r.jsx)(M,{component:"th",scope:"row",children:e._id}),Object(r.jsx)(M,{children:e.displayName}),Object(r.jsx)(M,{children:e.email}),Object(r.jsx)(M,{children:Object(r.jsx)(I.a,{checked:e.isTeacher,onChange:function(){return function(e){return m.apply(this,arguments)}(e)}})})]},e._id)}))})]})})]})}var $=a("5Yp1"),U=Object(i.a)((function(e){return{container:{marginTop:"3rem"}}}));t.default=Object(n.a)((function(){var e=U();return Object(r.jsx)($.a,{children:Object(r.jsxs)(c.a,{className:e.container,children:[Object(r.jsx)(o.a,{align:"center",variant:"h3",gutterBottom:!0,children:"Admin Panel"}),Object(r.jsx)(X,{}),Object(r.jsx)(X,{teachers:!0})]})})}),!0)}},[["KGfn",0,2,1,3,4]]]);